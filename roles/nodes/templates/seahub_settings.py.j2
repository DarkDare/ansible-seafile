SECRET_KEY = "{{ seahub_secret }}"

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'seahub-db',
        'USER': '{{ seahub_settings_databases_user }}',
        'PASSWORD': '{{ seahub_settings_databases_password }}',
        'HOST': '{{ seahub_settings_databases_host }}',
        'PORT': '3306',
        'OPTIONS': {
            'init_command': 'SET storage_engine=INNODB',
        }
    }
}

FILE_SERVER_ROOT = '{{ seahub_settings_file_server_root }}'

CACHES = {
    'default': {
        'BACKEND': 'django.core.cache.backends.memcached.MemcachedCache',
        'LOCATION': '{{ memcached_server }}:11211',
    }
}

OFFICE_CONVERTOR_ROOT = '{{ seahub_settings_office_convertor_root }}'

AVATAR_FILE_STORAGE = 'seahub.base.database_storage.DatabaseStorage'

# Enable or disable thumbnails
ENABLE_THUMBNAIL = True

# disable throttling
REST_FRAMEWORK = {
    'DEFAULT_THROTTLE_CLASSES': (
        'rest_framework.throttling.AnonRateThrottle',
        'rest_framework.throttling.UserRateThrottle',
    ),
    'DEFAULT_THROTTLE_RATES': {
        'anon': None,
        'user': None,
    },
}

BRANDING_CSS = '{{ seahub_custom_css }}'

{% if seahub_settings_mail %} #TODO test
EMAIL_USE_TLS = False
EMAIL_HOST = '{{ seahub_settings_email_host }}' # smpt server
EMAIL_HOST_USER = '{{ seahub_settings_email_host_user }}'   # username and domain
EMAIL_HOST_PASSWORD = '{{ seahub_settings_email_host_password }}'    # password
EMAIL_PORT = '{{ seahub_settings_email_port }}'
DEFAULT_FROM_EMAIL = EMAIL_HOST_USER
SERVER_EMAIL = EMAIL_HOST_USER
{% endif %}

{% if seahub_settings_cloud %}
# Enable cloude mode and hide `Organization` tab.
CLOUD_MODE = True
{% endif %}

